{"version":3,"sources":["webpack:///./src/views/Article/AddArticle.vue?d5f8","webpack:///./src/views/Article/AddArticle.vue?a233","webpack:///src/views/Article/AddArticle.vue","webpack:///./src/views/Article/AddArticle.vue?9164","webpack:///./src/views/Article/AddArticle.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","attrs","model","value","blog","callback","$$v","$set","expression","on","$event","dialogVisible","handleClose","category","_l","item","index","key","tag","uploadCover","handlePreview","handleRemove","staticClass","send","staticRenderFns","name","data","id","title","content","author","image","isTop","categoryList","tagList","methods","$axios","post","viewBlogs","then","console","log","$message","success","$confirm","reponse","file","fileList","beforeMount","today","get","component"],"mappings":"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","file":"js/chunk-cf0a1f38.d50f6eea.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=style&index=0&id=6da8a068&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{staticStyle:{\"font-size\":\"medium\",\"margin-bottom\":\"5px\"}},[_c('strong',[_vm._v(\"添加文章\")])]),_c('el-row',{staticStyle:{\"margin-bottom\":\"2%\"},attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":19}},[_c('el-input',{attrs:{\"placeholder\":\"请输入文章标题\"},model:{value:(_vm.blog.title),callback:function ($$v) {_vm.$set(_vm.blog, \"title\", $$v)},expression:\"blog.title\"}})],1),_c('el-col',{attrs:{\"span\":4,\"offset\":1}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogVisible = true}}},[_vm._v(\"发布文章\")])],1)],1),_c('div',[_c('mavon-editor',{staticStyle:{\"height\":\"calc(100vh - 260px)\"},model:{value:(_vm.blog.content),callback:function ($$v) {_vm.$set(_vm.blog, \"content\", $$v)},expression:\"blog.content\"}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"上传文章\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":\"文章分类\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.category),callback:function ($$v) {_vm.category=$$v},expression:\"category\"}},_vm._l((_vm.categoryList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"文章标签\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择分类\"},model:{value:(_vm.tag),callback:function ($$v) {_vm.tag=$$v},expression:\"tag\"}},_vm._l((_vm.tagList),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item,\"value\":item}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"上传封面\"}},[_c('el-upload',{attrs:{\"drag\":\"\",\"action\":\"/api/upload/\",\"on-success\":_vm.uploadCover,\"on-preview\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"list-type\":\"picture\"}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('el-form-item',{attrs:{\"label\":\"是否置顶\"}},[_c('el-switch',{attrs:{\"active-color\":\"#13ce66\",\"inactive-color\":\"#ff4949\"},model:{value:(_vm.blog.isTop),callback:function ($$v) {_vm.$set(_vm.blog, \"isTop\", $$v)},expression:\"blog.isTop\"}})],1)],1),_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"发表\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n      <div style=\"font-size: medium; margin-bottom: 5px\">\r\n        <strong>添加文章</strong>\r\n      </div>\r\n\r\n      <el-row :gutter=\"20\" style=\"margin-bottom: 2%\">\r\n        <el-col :span=\"19\">\r\n          <el-input placeholder=\"请输入文章标题\" v-model=\"blog.title\"></el-input>\r\n        </el-col>\r\n        <el-col :span=\"4\" :offset=\"1\">\r\n          <!--          <el-button type=\"info\" plain @click=\"send\">保存草稿</el-button>-->\r\n          <el-button type=\"primary\" @click=\"dialogVisible = true\">发布文章</el-button>\r\n        </el-col>\r\n      </el-row>\r\n\r\n      <div>\r\n        <mavon-editor style=\"height:calc(100vh - 260px)\" v-model=\"blog.content\"></mavon-editor>\r\n      </div>\r\n    </el-card>\r\n\r\n    <el-dialog title=\"上传文章\" :visible.sync=\"dialogVisible\" width=\"30%\" :before-close=\"handleClose\">\r\n      <el-form>\r\n        <el-form-item label=\"文章分类\">\r\n          <el-select v-model=\"category\" placeholder=\"请选择分类\">\r\n            <el-option v-for=\"(item,index) in categoryList\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"文章标签\">\r\n          <el-select v-model=\"tag\" placeholder=\"请选择分类\">\r\n            <el-option v-for=\"(item,index) in tagList\" :key=\"index\" :label=\"item\" :value=\"item\"></el-option>\r\n          </el-select>\r\n        </el-form-item>\r\n        <el-form-item label=\"上传封面\">\r\n\r\n\r\n\r\n          <el-upload\r\n              drag\r\n              action=\"/api/upload/\"\r\n              :on-success=\"uploadCover\"\r\n              :on-preview=\"handlePreview\"\r\n              :on-remove=\"handleRemove\"\r\n              list-type=\"picture\"\r\n          >\r\n            <i class=\"el-icon-upload\"></i>\r\n            <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n<!--            <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>-->\r\n          </el-upload>\r\n\r\n\r\n\r\n        </el-form-item>\r\n        <el-form-item label=\"是否置顶\">\r\n          <el-switch v-model=\"blog.isTop\" active-color=\"#13ce66\" inactive-color=\"#ff4949\"></el-switch>\r\n        </el-form-item>\r\n      </el-form>\r\n\r\n<!--      <span slot=\"footer\" class=\"dialog-footer\">-->\r\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"send\">发表</el-button>\r\n<!--  </span>-->\r\n    </el-dialog>\r\n    <!--    <mavon-editor></mavon-editor>-->\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"AddArticle\",\r\n  data() {\r\n    return {\r\n      blog: {\r\n        id:'',\r\n        title: '',\r\n        content: '',\r\n        author: 'dgqyushen',\r\n        image: '',\r\n        isTop: false\r\n      },\r\n      dialogVisible: false,\r\n      categoryList:[],\r\n      category:'',\r\n      tagList:[],\r\n      tag:'',\r\n    }\r\n  },\r\n  methods: {\r\n    send() {\r\n      let viewBlogs = this.blog\r\n      this.$axios.post(\"/api/blog/addBlog\", viewBlogs).then(({data}) => {\r\n        console.log(data);\r\n      });\r\n      this.dialogVisible = false;\r\n      this.$message.success(\"发表文章成功\");\r\n    },\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n          })\r\n          .catch(_ => {\r\n          });\r\n    },\r\n    uploadCover(reponse){\r\n      this.blog.image = reponse;\r\n      console.log(reponse);\r\n    },\r\n    handlePreview(file) {\r\n      console.log(file);\r\n    },\r\n    handleRemove(file, fileList) {\r\n      console.log(file, fileList);\r\n    }\r\n  },\r\n  beforeMount() {\r\n    let date = new Date();\r\n    let year = date.getFullYear();\r\n    let month = date.getMonth() + 1;\r\n    let day = date.getDate();\r\n    let today = year.toString() + '-' + month.toString() + '-' + day.toString();\r\n    // console.log(today);\r\n    this.blog.title = today;\r\n    this.$axios.get(\"/api/categories/getCategoriesList\").then(({data})=>{\r\n      // console.log(data.data.categoriesName);\r\n      this.categoryList = data.data;\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/*.title{*/\r\n/*  font-size: small;*/\r\n/*}*/\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddArticle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddArticle.vue?vue&type=template&id=6da8a068&scoped=true&\"\nimport script from \"./AddArticle.vue?vue&type=script&lang=js&\"\nexport * from \"./AddArticle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddArticle.vue?vue&type=style&index=0&id=6da8a068&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6da8a068\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}