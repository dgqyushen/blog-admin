(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de3fc"],{"859b":function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-card",[o("div",{staticStyle:{"font-size":"medium","margin-bottom":"5px"}},[o("strong",[e._v("用户列表")])]),o("el-row"),o("el-table",{staticStyle:{width:"100%",height:"500px"},attrs:{data:e.userList,border:""}},[o("el-table-column",{attrs:{prop:"userAvatar",label:"头像",width:"180"},scopedSlots:e._u([{key:"default",fn:function(e){return[o("el-avatar",{attrs:{shape:"square",size:30,src:e.row.userAvatar}})]}}])}),o("el-table-column",{attrs:{prop:"userUserName",label:"昵称",width:"180"}}),o("el-table-column",{attrs:{prop:"blogTitle",label:"用户角色",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-tag",[e._v(e._s(t.row.roleDescription))])]}}])}),o("el-table-column",{attrs:{label:"禁用",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-switch",{attrs:{"active-color":"#ff4949"},on:{change:function(o){return e.setReverse(t.row.userId)}},model:{value:t.row.userLocked,callback:function(o){e.$set(t.row,"userLocked",o)},expression:"scope.row.userLocked"}})]}}])}),o("el-table-column",{attrs:{prop:"userLoginIP",label:"登录ip",width:"180"}}),o("el-table-column",{attrs:{prop:"userLoginLocation",label:"登录地址",width:"180"}}),o("el-table-column",{attrs:{prop:"userCreatedDate",label:"创建时间",width:"180"}}),o("el-table-column",{attrs:{prop:"userLastLogin",label:"上次登录时间",width:"180"}}),o("el-table-column",{attrs:{prop:"blogTitle",label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(o){return e.openDialog(t.row)}}},[e._v("编辑 ")])]}}])})],1)],1),o("el-dialog",{attrs:{title:"修改用户",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[o("span",[o("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"用户名"}},[o("el-input",{staticStyle:{width:"80%"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}})],1),o("el-form-item",{attrs:{label:"密码"}},[o("el-input",{staticStyle:{width:"80%"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),o("el-form-item",{attrs:{label:"角色"}},[o("el-radio-group",{model:{value:e.form.role,callback:function(t){e.$set(e.form,"role",t)},expression:"form.role"}},e._l(e.roleList,(function(e){return o("el-radio",{key:e,attrs:{label:e}})})),1)],1)],1)],1),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:e.send}},[e._v("确 定")])],1)])],1)},l=[],s={name:"UserList",data:function(){return{userList:[],dialogVisible:!1,form:{userId:"",userName:"",password:"",role:[]},roleList:[]}},methods:{setReverse:function(e){var t={id:e};this.$axios.post("/api/user/setUserLocked",t).then((function(e){e.data}))},handleClose:function(e){this.$confirm("确认关闭？").then((function(t){e()})).catch((function(e){}))},openDialog:function(e){this.form.role=[],console.log(e),this.dialogVisible=!0,this.form.userName=e.userUserName,this.form.userId=e.userId,this.form.role=e.roleDescription},send:function(){var e=this.form;this.$axios.post("/api/user/setUserInfo",e).then((function(e){var t=e.data;console.log(t)})),this.dialogVisible=!1}},beforeMount:function(){var e=this;this.$axios.get("/api/user/getUserRoleData").then((function(t){var o=t.data;e.userList=o.data})),this.$axios.get("/api/role/getAllRoleDescriptions").then((function(t){var o=t.data;e.roleList=o.data}))}},a=s,i=o("2877"),n=Object(i["a"])(a,r,l,!1,null,"b28f6a7c",null);t["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0de3fc.37259a5d.js.map