(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cf0a1f38"],{"503e":function(t,e,o){"use strict";o("cca4")},"84be":function(t,e,o){"use strict";o.r(e);var l=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("el-card",[o("div",{staticStyle:{"font-size":"medium","margin-bottom":"5px"}},[o("strong",[t._v("添加文章")])]),o("el-row",{staticStyle:{"margin-bottom":"2%"},attrs:{gutter:20}},[o("el-col",{attrs:{span:19}},[o("el-input",{attrs:{placeholder:"请输入文章标题"},model:{value:t.blog.title,callback:function(e){t.$set(t.blog,"title",e)},expression:"blog.title"}})],1),o("el-col",{attrs:{span:4,offset:1}},[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!0}}},[t._v("发布文章")])],1)],1),o("div",[o("mavon-editor",{staticStyle:{height:"calc(100vh - 260px)"},model:{value:t.blog.content,callback:function(e){t.$set(t.blog,"content",e)},expression:"blog.content"}})],1)],1),o("el-dialog",{attrs:{title:"上传文章",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[o("el-form",[o("el-form-item",{attrs:{label:"文章分类"}},[o("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}},t._l(t.categoryList,(function(t,e){return o("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"文章标签"}},[o("el-select",{attrs:{placeholder:"请选择分类"},model:{value:t.tag,callback:function(e){t.tag=e},expression:"tag"}},t._l(t.tagList,(function(t,e){return o("el-option",{key:e,attrs:{label:t,value:t}})})),1)],1),o("el-form-item",{attrs:{label:"上传封面"}},[o("el-upload",{attrs:{drag:"",action:"/api/upload/","on-success":t.uploadCover,"on-preview":t.handlePreview,"on-remove":t.handleRemove,"list-type":"picture"}},[o("i",{staticClass:"el-icon-upload"}),o("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),o("em",[t._v("点击上传")])])])],1),o("el-form-item",{attrs:{label:"是否置顶"}},[o("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},model:{value:t.blog.isTop,callback:function(e){t.$set(t.blog,"isTop",e)},expression:"blog.isTop"}})],1)],1),o("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),o("el-button",{attrs:{type:"primary"},on:{click:t.send}},[t._v("发表")])],1)],1)},i=[],a=(o("d3b7"),o("25f0"),{name:"AddArticle",data:function(){return{blog:{id:"",title:"",content:"",author:"dgqyushen",image:"",isTop:!1},dialogVisible:!1,categoryList:[],category:"",tagList:[],tag:""}},methods:{send:function(){var t=this.blog;this.$axios.post("/api/blog/addBlog",t).then((function(t){var e=t.data;console.log(e)})),this.dialogVisible=!1,this.$message.success("发表文章成功")},handleClose:function(t){this.$confirm("确认关闭？").then((function(e){t()})).catch((function(t){}))},uploadCover:function(t){this.blog.image=t,console.log(t)},handlePreview:function(t){console.log(t)},handleRemove:function(t,e){console.log(t,e)}},beforeMount:function(){var t=this,e=new Date,o=e.getFullYear(),l=e.getMonth()+1,i=e.getDate(),a=o.toString()+"-"+l.toString()+"-"+i.toString();this.blog.title=a,this.$axios.get("/api/categories/getCategoriesList").then((function(e){var o=e.data;t.categoryList=o.data}))}}),n=a,s=(o("503e"),o("2877")),c=Object(s["a"])(n,l,i,!1,null,"6da8a068",null);e["default"]=c.exports},cca4:function(t,e,o){}}]);
//# sourceMappingURL=chunk-cf0a1f38.d50f6eea.js.map