{"version":3,"sources":["webpack:///./src/views/User/RoleList.vue?18c7","webpack:///src/views/User/RoleList.vue","webpack:///./src/views/User/RoleList.vue?9943","webpack:///./src/views/User/RoleList.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticStyle","_v","attrs","on","openDialog","roleData","scopedSlots","_u","key","fn","scope","_s","row","roleDescription","dialogVisible","handleClose","$event","model","value","callback","$$v","form","expression","$set","_l","item","roleId","roleName","staticClass","slot","send","staticRenderFns","name","data","permissionDescription","permissionUrl","roleList","methods","$confirm","forEach","e","JSON","stringify","array","indexOf","index","parse","lastArr","$axios","post","window","location","reload","beforeMount","get","then","console","log","component"],"mappings":"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","file":"js/chunk-2d0ac39a.98dd20df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',[_c('div',{staticStyle:{\"font-size\":\"medium\",\"margin-bottom\":\"5px\"}},[_c('strong',[_vm._v(\"角色列表\")])]),_c('el-row',[_c('el-col',{attrs:{\"span\":20}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.openDialog}},[_vm._v(\"添加权限\")])],1),_c('el-col',{attrs:{\"span\":4}})],1),_c('el-table',{staticStyle:{\"width\":\"100%\",\"height\":\"100%\"},attrs:{\"data\":_vm.roleData}},[_c('el-table-column',{attrs:{\"prop\":\"roleName\",\"label\":\"角色名字\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"roleDescription\",\"label\":\"角色描述\",\"width\":\"300\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-tag',[_vm._v(_vm._s(scope.row.roleDescription))])]}}])}),_c('el-table-column',{attrs:{\"prop\":\"permissionName\",\"label\":\"权限名称\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"permissionTag\",\"label\":\"权限标签\",\"width\":\"300\"}}),_c('el-table-column',{attrs:{\"prop\":\"permissionUrl\",\"label\":\"权限url\",\"width\":\"300\"}})],1)],1),_c('el-dialog',{attrs:{\"title\":\"添加权限\",\"visible\":_vm.dialogVisible,\"width\":\"30%\",\"before-close\":_vm.handleClose},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('span',[_c('el-form',{model:{value:(_vm.form),callback:function ($$v) {_vm.form=$$v},expression:\"form\"}},[_c('el-form-item',{attrs:{\"label\":\"角色\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.form.roleId),callback:function ($$v) {_vm.$set(_vm.form, \"roleId\", $$v)},expression:\"form.roleId\"}},_vm._l((_vm.roleList),function(item){return _c('el-option',{key:item.roleId,attrs:{\"value\":item.roleId,\"label\":item.roleName}})}),1)],1),_c('el-form-item',{staticStyle:{\"width\":\"60%\"},attrs:{\"label\":\"权限描述\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入权限描述\"},model:{value:(_vm.form.permissionDescription),callback:function ($$v) {_vm.$set(_vm.form, \"permissionDescription\", $$v)},expression:\"form.permissionDescription\"}})],1),_c('el-form-item',{staticStyle:{\"width\":\"60%\"},attrs:{\"label\":\"权限url\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入权限url\"},model:{value:(_vm.form.permissionUrl),callback:function ($$v) {_vm.$set(_vm.form, \"permissionUrl\", $$v)},expression:\"form.permissionUrl\"}})],1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.send}},[_vm._v(\"确 定\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <el-card>\r\n      <div style=\"font-size: medium; margin-bottom: 5px\">\r\n        <strong>角色列表</strong>\r\n      </div>\r\n      <el-row>\r\n\r\n        <el-col :span=\"20\">\r\n          <!--          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-plus\" @click=\"dialogVisible = true\">新增分类</el-button>-->\r\n          <el-button type=\"primary\" size=\"small\" @click=\"openDialog\">添加权限</el-button>\r\n        </el-col>\r\n        <el-col :span=\"4\">\r\n          <!--          <el-input v-model=\"searchName\" placeholder=\"请输入你想搜索的分类\" size=\"small\" style=\"width: 50%\"></el-input>-->\r\n          <!--          <el-button type=\"primary\" size=\"small\" icon=\"el-icon-search\" style=\"margin-left: 2%\">搜索</el-button>-->\r\n        </el-col>\r\n\r\n      </el-row>\r\n\r\n      <el-table\r\n          :data=\"roleData\"\r\n          style=\"width: 100%;\r\n            height: 100%\">\r\n        <el-table-column\r\n            prop=\"roleName\"\r\n            label=\"角色名字\"\r\n            width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"roleDescription\"\r\n            label=\"角色描述\"\r\n            width=\"300\">\r\n          <template slot-scope=\"scope\">\r\n            <el-tag>{{ scope.row.roleDescription }}</el-tag>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"permissionName\"\r\n            label=\"权限名称\"\r\n            width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"permissionTag\"\r\n            label=\"权限标签\"\r\n            width=\"300\">\r\n        </el-table-column>\r\n        <el-table-column\r\n            prop=\"permissionUrl\"\r\n            label=\"权限url\"\r\n            width=\"300\">\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n\r\n\r\n    <el-dialog\r\n        title=\"添加权限\"\r\n        :visible.sync=\"dialogVisible\"\r\n        width=\"30%\"\r\n        :before-close=\"handleClose\">\r\n      <span>\r\n          <el-form v-model=\"form\">\r\n            <el-form-item label=\"角色\">\r\n              <el-select  placeholder=\"请选择\" v-model=\"form.roleId\">\r\n                <el-option v-for=\"item in roleList\" :key=\"item.roleId\" :value=\"item.roleId\" :label=\"item.roleName\"></el-option>\r\n              </el-select>\r\n            </el-form-item>\r\n            <el-form-item label=\"权限描述\" style=\"width: 60%\">\r\n              <el-input placeholder=\"请输入权限描述\" v-model=\"form.permissionDescription\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"权限url\" style=\"width: 60%\">\r\n              <el-input placeholder=\"请输入权限url\" v-model=\"form.permissionUrl\"></el-input>\r\n            </el-form-item>\r\n\r\n          </el-form>\r\n      </span>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\r\n    <el-button type=\"primary\" @click=\"send\">确 定</el-button>\r\n  </span>\r\n    </el-dialog>\r\n\r\n\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"RoleList\",\r\n  data() {\r\n    return {\r\n      roleData: [],\r\n      dialogVisible: false,\r\n      form: {\r\n        roleId:'',\r\n        permissionDescription: '',\r\n        permissionUrl: ''\r\n\r\n      },\r\n      roleList: [],\r\n      value:''\r\n    }\r\n  },\r\n  methods: {\r\n    handleClose(done) {\r\n      this.$confirm('确认关闭？')\r\n          .then(_ => {\r\n            done();\r\n          })\r\n          .catch(_ => {\r\n          });\r\n    },\r\n    openDialog(){\r\n      this.dialogVisible = true;\r\n      this.roleData.forEach(e=>{\r\n        // set.add(e.roleName);\r\n        this.roleList.push({\r\n          roleName: e.roleName,\r\n          roleId: e.roleId\r\n        })\r\n      });\r\n\r\n      let stringArr = this.roleList.map((item,index,array)=>{\r\n        return JSON.stringify(item)\r\n      });\r\n      let filterArr = stringArr.filter((item,index,array)=>{\r\n        return array.indexOf(item) === index;\r\n      });\r\n      let lastArr = filterArr.map((item,index,array)=>{\r\n        return JSON.parse(item);\r\n      });\r\n      this.roleList = lastArr;\r\n    },\r\n    send(){\r\n      let postData = this.form;\r\n      this.$axios.post(\"/api/permission/saveRolePermission\",postData).then(({data})=>{\r\n        // console.log(data);\r\n      });\r\n      window.location.reload();\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.$axios.get(\"/api/role/getRolePermissionData\").then(({data}) => {\r\n      this.roleData = data.data;\r\n      console.log(this.roleData);\r\n    })\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RoleList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RoleList.vue?vue&type=template&id=257cd043&scoped=true&\"\nimport script from \"./RoleList.vue?vue&type=script&lang=js&\"\nexport * from \"./RoleList.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"257cd043\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}